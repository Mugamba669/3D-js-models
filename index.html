<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title color="red">Equalizer-API</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./font-awesome-4.3.0/css/font-awesome.css" type="text/css">
        <link rel="stylesheet" href="./index.css" type="text/css">


    </head>
    <body>
        <h1>Equalizer API</h1>
        <input type="file" webkitdirectory id="loader"accept="audio/*"/>
        <div class="">
            <image src=""alt="cover"id="cover"/>
        </div>
        <label id="mus" for="music" class="fa fa-music"></label>
        <p><i id="tt2" style="float: right!important;margin-top:-7px">0:00</i>
        <i id="tt1">0:00</i>

        <input type="file"style="display:none;" accept="audio/*" id="music">
        <input type="range" id="sl" max="" min="0" value="0" step="0.01"><br/>
        <div id="ctl">
            <button class="fa fa-play" id="play"></button>
            <button class="fa fa-pause" id="pause"></button>
        </div>
        <!-- <fieldset></fieldset> -->
        <canvas id="colr" viewBox="0 0 200 200" style="display:none"></canvas>
      <div class="container">
        <canvas id="cs"style="display:block"></canvas>

        </div>
        <script src="jquery-1.9.1.min.js"></script>
        <script src="./three.js-master/examples/js/libs/dat.gui.min.js"></script>
        <script type="module">
            // import * as GUI from "./three.js-master/examples/js/libs/dat.gui.min.js"
            import { JDroidFx } from "./Equalizer.js";
        var gui = new dat.GUI();
            (function(){
                var  musicfx = new JDroidFx({
                loader:"#music",
                canvaSelector:"#cs",
                currentTime:"#tt1",
                durationTime:"#tt2"
            });
            musicfx.getAudio();
            musicfx.getTrackerUpdate("#sl");
            musicfx.getControlButtons({play:"#play", pause:"#pause"});
            musicfx.getColorPicker({canvas:"#colr",image:"#cover"});
            musicfx.getPlaylist("#loader");
            var settings = musicfx.getDefaults();

let visualizers = ['select visual','bars','spectrum','vertical-bars'];
let effets = ['Select-Effect','Echo','Auditorium','Scene','Small-Room','Stadium'];
//  implementing 
gui.addColor(musicfx,"visualColor").onChange(e => settings.visualColor = e);
gui.add(musicfx,"volume",0,1).onChange(e => musicfx.getEQvolume(e));
// console.log(settings.frames);
gui.add(musicfx,"frameRate",0,1).onChange(e => musicfx.getGUIFrameRate(e));
// balance 
gui.add(musicfx,"balance",-1,1).onChange(e => musicfx.getEQBalance(e));
gui.addFolder("Visualizers").add(musicfx,"visuals").options(visualizers).onChange(e => musicfx.getEQvisuals(e));
// EQ settings
var sets = gui.addFolder("Audio Settings");
sets.add(musicfx,"Crystalizer").onChange(e => musicfx.getEQCrystalz(e));
sets.add(musicfx,"Bassboast").onChange(e => musicfx.getEQbass(e));
sets.add(musicfx,"AudioLoop").onChange(e => musicfx.enableAudioLoop(e));
sets.add(musicfx,"Convolver").onChange(e => musicfx.enableSurround(e));
sets.add(musicfx,"Limit").onChange(e => musicfx.getEQAudioLimit(e));

 var rooms = gui.addFolder("Room Effects");
 rooms.add(musicfx,"RoomEffects").onChange(e => musicfx.enableEffects(e));
 rooms.add(musicfx,"RoomEffect").options(effets).onChange(e => musicfx.getEQEffects(e));          

})();
jQuery(document).ready(function($){
  $("#pause").hide();
  $("#play").click(function(){
      $(this).hide();
      $("#pause").show();
  });

  $("#pause").click(function(){
      $(this).hide();
      $("#play").show();
  });
  $("#open").click(function(){
      $("fieldset").addClass("active");
      $(".container").addClass("active");
      // alert("click");
  });
});

        </script>
    </body>
</html>
